#-------------- VARIAVEIS GLOBAIS -----------------------

altreino = None
atu = None
inc = None
alu = None
sec = None
treino = None
cadAlunos = []
treinoAlunos = []

# ------------- CLASSES --------------
class Aluno:
    def __init__(self, nome, cpf, peso, altura):
      self.nome = nome
      self.cpf = cpf
      self.peso = peso
      self.altura = altura
      self.status = False

class Exercicio:
  def __init__(self, exerc, rept, peso):
    self.exerc = exerc
    self.rept = rept
    self.peso = peso

#-------- FUNÇÃO MENU PRINCIPAL --------------

def menuprinc():
  print('''\nBem vindo a Academia No pain No gain
  Oque gostaria de fazer hoje?
  [1] Cadastrar Aluno
  [2] Gerenciar Treino
  [3] Consultar Aluno
  [4] Atualizar Cadastro
  [5] Excluir Aluno
  [6] Relatorio de Alunos
  [0] Sair''')
  sec = int(input(' Digite o numero seção: '))
  return sec

#-------------- CADASTRO ALUNO -----------------

def cadastroalun():
  nome = input('\nInsira o Nome do Aluno: ')
  cpf = int(input('Insira o cpf do Aluno: '))
  peso = float(input('Insira o Peso do Aluno: '))
  altura = float(input('Insira a Altura do Aluno: '))
  cadAlunos.append(Aluno(nome, cpf, peso, altura))
  treinoAlunos.append([])
  print('\nAluno Cadastrado com Sucesso!')

#--------------- PESQUISA DE ALUNOS -------------------------

def pesquisaalun():
  alu = input('\nQual Aluno Deseja Consultar? ')
  for cad in cadAlunos:
    if cad.nome == alu:
      print('\nAluno Encontrado!')
      print('Nome:', cad.nome)
      print('CPF:', cad.cpf)
      print('Peso:', cad.peso)
      print('Altura:', cad.altura)
      print('Status:', cad.status)
      break
    else:
      print('\nAluno não Encontrado!')

#------------ ATUALIZAR CADASTRO -----------------

def atualizar():
    alu = input('\nQual Aluno Deseja Atualizar? ')
    for cad in cadAlunos:
        if cad.nome == alu:
            print('\nAluno Encontrado!')
            novo_nome = input('Digite o Novo Nome ou Caso Não Queira Mudar deixe em Branco: ')
            if novo_nome != '':
                cad.nome = novo_nome
            novo_cpf = input('Digite o Novo Cpf ou Caso Não Queira Mudar deixe em Branco: ')
            if novo_cpf != '':
                cad.cpf = novo_cpf
            novo_peso = input('Digite o Novo Peso ou Caso Não Queira Mudar deixe em Branco: ')
            if novo_peso != '':
                cad.peso = float(novo_peso)
            nova_altura = input('Digite a Nova Altura ou Caso Não Queira Mudar deixe em Branco: ')
            if nova_altura != '':
                cad.altura = float(nova_altura)
            print('\nAluno Atualizado com Sucesso!')
            break
        else:
          print('\nAluno não encontrado!')

#--------------- EXCLUIR ALUNO -------------------------

def excluiralu():
  ex = ('\nQual Aluno Deseja Excluir: ')
  for cad in cadAlunos:
    if cad.nome == ex:
      conf = input('\nTem Certeza que Deseja Excluir o Aluno S/N\n')
      if conf == 'S' or 's':
        cadAlunos.remove(cad)
        print(f"\nAluno {cad.nome} excluído com sucesso!")
        break
      elif conf == 'N' or 'n':
        continue
      else:
        print("\nAluno não encontrado!")

#--------------- MENU TREINO -----------------------

def menutreino():
  print('''\nOque deseja realizar?
  [1] Incluir um novo Exercício
  [2] Alterar um Exercício
  [3] Excluir um Exercício
  [4] Excluir Todos os Exercícios
  [0] Retornar ao Menu Principal''')
  treino = int(input())
  return treino

#----------------- CADASTRO TREINOS -------------------------

def inctreino():
  while True:
    alu_nome = input('\nQual Aluno deseja Cadastrar: ')
    alu_ind = None
    for ind in range(len(cadAlunos)):
      cad = cadAlunos[ind]
      if cad.nome == alu_nome:
        alu_ind = ind
        break
    if alu_ind is not None:
      while len(treinoAlunos[alu_ind]) < 10:
        nometrei = input('Digite o Nome do Exercicio: ')
        numerep = int(input('Digite o Numero de Repetições: '))
        pesotrei = float(input('Digite o Peso para o Exercicio: '))
        treinoAlunos[alu_ind].append(Exercicio(nometrei, numerep, pesotrei))
        print('Treino registrado com sucesso!')
        cadAlunos[alu_ind].status = True
        conf = input('\nDeseja continuar adcionando treinos ? S/N ')
        if conf == 'S' or conf == 's':
          continue
        elif conf == 'N' or conf == 'n':
          break
          menutreino()
        else:
          conf = input('\nInvalido, Digite Novamente: S/N ')
    else:
      print('\nNome não encontrado!')
    conf = input('\nDeseja voltar ao menu de treino S/N ')
    if conf == 'S' or conf == 's':
      break
      menutreino()
    elif conf == 'N' or conf == 'n':
      break
      menuprinc()
    else:
      conf = input('\nInvalido, Digite Novamente: S/N ')

#-------------------- ALTERAR TREINO ------------------------------

def altreino():
    alu_nome = input('\nQual Aluno deseja modificar o treino: ')
    alu_ind = None
    for ind in range(len(cadAlunos)):
        cad = cadAlunos[ind]
        if cad.nome == alu_nome:
            alu_ind = ind
            break
    if alu_ind is not None:
        print('Treinos do Aluno:')
        for ind in range(len(treinoAlunos[alu_ind])):
            treino = treinoAlunos[alu_ind][ind]
            print(f'[{ind + 1}] | [{treino.exerc}] | [{treino.rept} repetições] - [{treino.peso} kg]')
        treino_ind = int(input('Qual treino deseja alterar? ')) - 1
        if 0 <= treino_ind < len(treinoAlunos[alu_ind]):
            nometrei = input('Digite o Nome do Exercicio: ')
            numerep = int(input('Digite o Numero de Repetições: '))
            pesotrei = float(input('Digite o Peso para o Exercicio: '))
            treinoAlunos[alu_ind][treino_ind] = Exercicio(nometrei, numerep, pesotrei)
            print('Treino alterado com sucesso!')
        else:
            print('Índice de treino inválido!')
    else:
        print('\nNome não encontrado!')

#----------------- EXCLUIR TREINO ---------------------------------

def extrei():


#--------------------- CÓDIGO ------------------------------

while True:
  sec = menuprinc()
  if sec == 1:   # Cadastro de Alunos
    alu = cadastroalun()
  elif sec == 2: # Gerenciar Treino
    while True:
      treino = menutreino()
      if treino == 1: # Inserir Treino
        inc = inctreino()
      elif treino == 2:
        alt = altreino()
      elif treino == 3:
        exc = extrei()
      #elif treino == 4:
      elif treino == 0:
        break
        menuprinc()
      #else:
        print('Seção Invalida, Digite um Valor Valido')
        continue
  elif sec == 3:     #consulta aluno
    alu = pesquisaalun()
  elif sec == 4:    # Atualizar Cadastro
    atu = atualizar()
  # elif sec == 5:
  # #elif sec == 6:
  elif sec == 0:
    break
  else:
    print('\nSeção Invalida, Digite um Valor Valido')
    continue
